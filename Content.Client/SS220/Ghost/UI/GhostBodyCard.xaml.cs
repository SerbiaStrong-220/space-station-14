using Content.Shared.SS220.Mind;
using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface.Controls;
using Robust.Client.UserInterface.XAML;

namespace Content.Client.SS220.Ghost.UI;

[GenerateTypedNameReferences]
public sealed partial class GhostBodyCard : UIWidget
{
    public Action<NetEntity>? FollowBodyAction;
    public Action<NetEntity>? ToBodyAction;

    private BodyCont _body;
    public GhostBodyCard()
    {
        RobustXamlLoader.Load(this);
    }
    public void Init(BodyCont body)
    {
        _body = body;

        FollowButton.OnButtonDown += _ => FollowBodyAction?.Invoke(_body.Id);
        FollowButton.Disabled = !_body.IsAvailble;

        ToBodyButton.OnButtonDown += _ => ToBodyAction?.Invoke(_body.Id);
        ToBodyButton.Disabled = !_body.IsAvailble;

        BodyNameLabel.Text = _body.Name;
    }
}
