# Â© SS220, An EULA/CLA with a hosting restriction, full text: https://raw.githubusercontent.com/SerbiaStrong-220/space-station-14/master/CLA.txt

- type: surgeryGraph
  id: MindSlaveFix
  name: surgery-mind-slave-fix-name
  description: surgery-mind-slave-fix-description
  postscript: surgery-mind-slave-fix-postscript
  performerAvailabilityCondition:
  - !type:HaveMindRoleCondition
    flippingCondition:
      value: TraitorRole
      conditionType: enum.FlippingConditionType.Straight
  targetAvailabilityCondition:
  - !type:WhitelistCondition
    flippingCondition:
      value:
        components:
        - MindSlave
      conditionType: enum.FlippingConditionType.Straight
  targetPuppetPart: head
  start: start
  end: sealWound
  graph:
  - node: start
    nodeText:
      examineDescription: surgery-mind-slave-fix-examine-description
      popup: surgery-mind-slave-fix-popup
      description: surgery-mind-slave-fix-description
    edges:
    - to: incision
      baseEdge: incision
  - node: incision
    baseNode: incision
    edges:
    - to: retractSkin
      baseEdge: retractSkin
  - node: retractSkin
    baseNode: retractSkin
    edges:
    - to: sawBone
      baseEdge: sawBone
  - node: sawBone
    baseNode: sawBone
    edges:
    - to: clampBleeders
      baseEdge: clampBleeders
  - node: clampBleeders
    baseNode: clampBleeders
    edges:
    - to: fixDisfunction
      delay: 6
      sound:
        path: /Audio/SS220/Surgery/organ.ogg
        params:
          variation: 0.125
      conditions:
      - !type:WhitelistCondition
        whitelist:
          components:
          - MindSlaveDisfunctionFixer
      actions:
      - !type:SurgeryFixMindSlaveDisfunctionAction
  - node: fixDisfunction
    nodeText:
      examineDescription: mind-slave-disfunction-fix-surgery-examine-description
      popup: mind-slave-disfunction-fix-surgery-popup
      description: mind-slave-disfunction-fix-surgery-description
    edges:
    - to: sealWound
      baseEdge: sealWound
  - node: sealWound
    baseNode: sealWound
