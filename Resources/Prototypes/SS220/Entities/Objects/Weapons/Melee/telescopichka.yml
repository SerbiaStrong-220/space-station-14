# Â© SS220, An EULA/CLA with a hosting restriction, full text: https://raw.githubusercontent.com/SerbiaStrong-220/space-station-14/master/CLA.txt

- type: entity
  name: telescopichka
  parent: BaseItem
  id: Telescopichka
  description: Compact self-defence weapon. Can be folded to reduce it's size. Fits in pocket when folded.
  components:
  - type: EmitSoundOnLand ##new sound_drop effect, add MIXnikita
    sound:
      path: /Audio/SS220/Effects/Drop/stunprod.ogg
      params:
        volume: 2
  - type: Sprite
    sprite: SS220/Objects/Weapons/Melee/Stunning/telescopichka.rsi
    layers:
    - state: telescope_off
      map: [ "enum.ToggleableVisuals.Layer" ]
  - type: ItemToggle
    soundActivate:
      path: /Audio/SS220/Weapons/telescopichka/batonextend.ogg
      params:
        volume: -2
    soundDeactivate:
      path: /Audio/SS220/Weapons/telescopichka/batonextend.ogg
      params:
        volume: -2
  - type: ItemToggleMeleeWeapon
    activatedSoundOnHit:
      soundHit: !type:SoundCollectionSpecifier
      collection: BatonHit
    activatedDamage:
      types:
        Blunt: 1
  - type: ItemToggleSize
    activatedSize: Normal
    activatedShape:
    - 0,0,0,3
  - type: UseDelay
    delays:
      default:
        length: 1
      baton:
        length: 4
  - type: MeleeWeapon
    wideAnimationRotation: -135
    angle: 0
    soundHit: !type:SoundCollectionSpecifier
      collection: BatonHit
    damage:
      types:
        Blunt: 0
  - type: ComponentToggler
    components:
    - type: DisarmMalus
      malus: 0.6
    - type: DelayedKnockdownOnHit #SS220 staminaweapons rework 
      onHeavyAttack: true
      delay: 0 #instant
      duration: 2
      drop: false
      refresh: false
      autoStand: true
      useDelay: baton
    - type: UseDelayBlockMeleeAttack
      delays: 
      - default
      - baton
  - type: Item
    size: Small
    sprite: SS220/Objects/Weapons/Melee/Stunning/telescopichka.rsi
  - type: DisarmMalus
    malus: 0
  - type: Appearance
  - type: GenericVisualizer
    visuals:
     enum.ToggleableVisuals.Enabled:
        enum.ToggleableVisuals.Layer:
          True: {state: telescope_on}
          False: {state: telescope_off}
